<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
		
		<!--Import materialize.css-->
		<link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
	
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
		<link rel="stylesheet" type="text/css" href="styles.css" />
		<script type="text/javascript">

			// XML PARSER
			function xmlparser()
			{
				var xmlhttp, xml_data, items, content;
				xmlhttp=new XMLHttpRequest();
				xmlhttp.open("GET", "http://www.fis.edu.hk/web/WebsiteFeeds.aspx?f=0&lang=fr-fr", true);
				xmlhttp.overrideMimeType('text/xml; charset=iso-8859-1');
				
				xmlhttp.onreadystatechange=function()
				{
					if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
						xml_data = xmlhttp.responseXML;
						items = xml_data.getElementsByTagName("item");
						
						content = '';
												
						for (i=0;i<items.length;i++)
						{ 
							content = content + '<div id="item_' + i + '" class="item"><div class="item_title" onclick="read('+ i +')">' + items[i].getElementsByTagName("title")[0].textContent;
							content = content + '</div><div id="item_date_' + i + '" class="item_date">' + items[i].getElementsByTagName("pubDate")[0].textContent.substring(0,10) + '</div>';
							content = content + '<div id="' + i + '" class="item_description">' + items[i].getElementsByTagName("description")[0].textContent + '</div></div>';
						}
						content = content + '<br /><br /><br /><br />';
						document.getElementById('content').innerHTML=content;
					}
				}
				xmlhttp.send();
			}

			function read(i)
			{
				var element = document.getElementById(i);  
				var display = window.getComputedStyle(element, null).getPropertyValue("display");

				if (display == 'none')
				{
					document.getElementById(i).style.display = "block";
					document.getElementById('item_' + i).style.background = "#2980b9";
					document.getElementById('item_date_' + i).style.color = "#ecf0f1";
					
					for (var n=0;n<200;n++)
					{
						if (n !== i) {
							//document.getElementById(n).style.display = "none";
							//document.getElementById('item_' + n).style.background = "white";
							//document.getElementById('item_date_' + n).style.color = "silver";
						}
					}
					
				} else {
					document.getElementById(i).style.display = "none";
					document.getElementById('item_' + i).style.background = "white";
					document.getElementById('item_date_' + i).style.color = "silver";
				}
			}			
			
		</script>
		<title>LFI Actu</title>
	</head>

	<body>
	
		<div class="navbar-fixed">
			<nav>
				<div class="nav-wrapper">
					<a href="#!" class="brand-logo">LFI Actu</a>
					<a href="#!">FR EN</a>
					
					<a href="#" data-activates="mobile-demo" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
					<ul class="right hide-on-med-and-down">
						<li><a href="index_en.html">EN</a></li>
						<li><a href="index.html">FR</a></li>
					</ul>
					<ul class="side-nav" id="mobile-demo">
						<li><a href="index_en.html">EN</a></li>
						<li><a href="index.html">FR</a></li>
					</ul>
				</div>
			</nav>
		</div>
		
	

		

		<!-- CONTENT -->
		<div id="content"><div style="text-align:center;padding:50px 0px 0px 0px;"><img src="images/loading.gif" width="64" /></div></div>
		
		<footer class="page-footer">
			<div class="container">
				<div class="row">
					<div class="col s4">
						<a class="grey-text text-lighten-3" href="http://pronote.fis.edu.hk/">PRONOTE</a>
					</div>
					<div class="col s4">
						<a class="grey-text text-lighten-3" href="http://www.fis.edu.hk/web/">SITE WEB</a>
					</div>
					<div class="col s4">
						<a class="grey-text text-lighten-3" href="about.html">A PROPOS</a></li>
					</div>
				</div>
			</div>
			<div class="footer-copyright">
				<div class="container">
					Â© 2014 Copyright Text
					<a class="grey-text text-lighten-4 right" href="#!">More Links</a>
				</div>
			</div>
		</footer>
		
		<script type="text/javascript">window.onload = xmlparser();</script>
		<!--Import jQuery before materialize.js-->
		<script type="text/javascript" src="js/jquery/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="materialize/js/materialize.min.js"></script>
		<script type="text/javascript" src="cordova.js"></script>

	</body>
</html>