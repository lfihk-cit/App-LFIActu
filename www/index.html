<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
		 <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

		<link rel="stylesheet" type="text/css" href="AnimatedGridLayout/css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="AnimatedGridLayout/fonts/font-awesome-4.3.0/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="AnimatedGridLayout/css/style1.css" />		
		<link rel="stylesheet" type="text/css" href="styles.css" />
		<script src="AnimatedGridLayout/js/modernizr.custom.js"></script>		
		
		<script type="text/javascript">
			// XML PARSER
			function xmlparser()
			{
				var xmlhttp, xml_data, items, content, article, grid;
				xmlhttp=new XMLHttpRequest();
				xmlhttp.open("GET", "feed.xml", true);
				/*xmlhttp.open("GET", "http://www.fis.edu.hk/web/WebsiteFeeds.aspx?f=0&lang=en-gb", true);*/
				xmlhttp.overrideMimeType('text/xml; charset=iso-8859-1');
				
				xmlhttp.onreadystatechange=function()
				{
					if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
						xml_data = xmlhttp.responseXML;
						items = xml_data.getElementsByTagName("item"); 
						
						grid = '';
						grid = '<header class="top-bar">';
						grid += '<h2 class="top-bar__headline">Actualit&eacute; du LFI</h2>';
						grid += '</header>';
																		
						for (i=0;i<items.length;i++)
						{ 
							grid += '<div id="item_' + i + '" class="item">';
							grid += '<a class="grid__item" href="#">';
							grid += '<h2 class="title title--preview title" onclick="read('+ i +')">' + items[i].getElementsByTagName("title")[0].textContent + '</h2>';
							grid += '<div class="meta meta--preview">';
							grid += '<span class="meta__date" style="text-align:center;float:none;"><i class="fa fa-calendar-o"></i>' + items[i].getElementsByTagName("pubDate")[0].textContent.substring(0,10) + '</span>';
							grid += '</div>';
							grid += '</a>';
							grid += '</div>';
							
							grid += '<div id="' + i + '" class="item_description">';
							grid += '<section class="content content--show">';
							grid += '<div class="scroll-wrap">';
							grid += '<article class="content__item content__item--show">';
							grid += items[i].getElementsByTagName("description")[0].textContent;
							grid += '</article>';
							grid += '</div>';
							grid += '<button class="close-button"><i class="fa fa-close"></i><span>Close</span></button>';
							grid += '</section>';
							grid += '</div>';
						}

						document.getElementById('grid').innerHTML=grid;
					}
				}
				xmlhttp.send();
			}
		
			function read(i)
			{
				var element = document.getElementById(i);  
				var display = window.getComputedStyle(element, null).getPropertyValue("display");
				if (display == 'none')
				{
					document.getElementById(i).style.display = "block";
					//document.getElementById('item_' + i).style.background = "#2980b9";
					//document.getElementById('item_' + i).style.border = "solid 2px black";
					//document.getElementById('item_date_' + i).style.color = "#ecf0f1";
				} else {
					document.getElementById(i).style.display = "none";
					//document.getElementById('item_' + i).style.background = "white";
					//document.getElementById('item_' + i).style.border = "solid 2px black";
					//document.getElementById('item_date_' + i).style.color = "silver";
				}
			}
		</script>

		<title>LFI Actu</title>
	</head>

	<body>
	
		<div class="container">
			<button id="menu-toggle" class="menu-toggle"><span>Menu</span></button>
			<div id="theSidebar" class="sidebar">
				<button class="close-button fa fa-fw fa-close"></button>

				
				<img src="images/icon.png" alt="LFI" height="70" />
				
				<h1>Actualit&eacute; du LFI</h1>
				<nav class="codrops-demos">
					<span class="codrops-icon codrops-icon--drop"></span><br />
					<a class="current-demo" href="index.html">FR</a>
					<a href="index2.html">EN</a>
				</nav>
				<div class="related">
					<a href="http://tympanus.net/Development/BookPreview/"><b>PRONOTE</b></a>
					<a href="http://tympanus.net/Tutorials/ThumbnailGridExpandingPreview/"><b>SITE INTERNET</b></a>
					<a href="http://tympanus.net/Tutorials/ThumbnailGridExpandingPreview/"><b>A PROPOS</b></a>
				</div>
			</div>
			
			<div id="theGrid" class="main">
				<section id="grid" class="grid"><div style="text-align:center;padding:50px 0px 0px 0px;"><img src="images/loading.gif" width="64" /></div></section>
			</div>
			
		</div><!-- /container -->
		
		<script defer type="text/javascript">window.onload = xmlparser();</script>	
		<script type="text/javascript" src="cordova.js"></script>
	</body>
</html>