<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
		 <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

		<link rel="stylesheet" type="text/css" href="AnimatedGridLayout/css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="AnimatedGridLayout/fonts/font-awesome-4.3.0/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="AnimatedGridLayout/css/style1.css" />		
		<script src="AnimatedGridLayout/js/modernizr.custom.js"></script>		
		
		<script type="text/javascript">
		// XML PARSER
		function xmlparser()
		{
			var xmlhttp, xml_data, items, content, article, grid;
			xmlhttp=new XMLHttpRequest();
			/*xmlhttp.open("GET", "feed.xml", true);*/
			xmlhttp.open("GET", "http://www.fis.edu.hk/web/WebsiteFeeds.aspx?f=0&lang=en-gb", false);
			xmlhttp.overrideMimeType('text/xml; charset=iso-8859-1');
			
			xmlhttp.onreadystatechange=function()
			{
				if (xmlhttp.readyState==4 && xmlhttp.status==200)
				{
					xml_data = xmlhttp.responseXML;
					items = xml_data.getElementsByTagName("item"); 
					
					grid = '<header class="top-bar">';
					grid += '<h2 class="top-bar__headline">Actualit&eacute; du LFI</h2>';
					grid += '</header>';
					
					article = '';
											
					for (i=0;i<items.length;i++)
					{ 
						grid += '<a class="grid__item" href="#">';
						grid += '<h2 class="title title--preview">' + items[i].getElementsByTagName("title")[0].textContent + '</h2>';
						grid += '<div class="loader"></div>';
						grid += '<div class="meta meta--preview">';
						grid += '<span class="meta__date" style="text-align:center;float:none;"><i class="fa fa-calendar-o"></i>' + items[i].getElementsByTagName("pubDate")[0].textContent.substring(0,10) + '</span>';
						grid += '</div>';
						grid += '</a>';
						
						article += '<article class="content__item">';
						article += '<h2 class="title title--full">' + items[i].getElementsByTagName("title")[0].textContent + '</h2>';
						article += '<div class="meta meta--full">';
						article += '<span class="meta__date" style="text-align:center;float:none;"><i class="fa fa-calendar-o"></i>' + items[i].getElementsByTagName("pubDate")[0].textContent.substring(0,10) + '</span>';
						article += '</div>';
						article += '<p>' + items[i].getElementsByTagName("description")[0].textContent + '</p>';
						article += '</article>';
					}
					
					document.getElementById('grid').innerHTML=grid;
					document.getElementById('article').innerHTML=article;
				}
			}
			xmlhttp.send();
		}
		</script>

		<title>LFI Actu</title>
	</head>

	<body>
	
		<div class="container">
			<button id="menu-toggle" class="menu-toggle"><span>Menu</span></button>
			<div id="theSidebar" class="sidebar">
				<button class="close-button fa fa-fw fa-close"></button>

				
				<img src="images/icon.png" alt="LFI" height="70" />
				
				<h1>Actualit&eacute; du LFI</h1>
				<nav class="codrops-demos">
					<span class="codrops-icon codrops-icon--drop"></span><br />
					<a class="current-demo" href="index.html">FR</a>
					<a href="index2.html">EN</a>
				</nav>
				<div class="related">
					<a href="http://tympanus.net/Development/BookPreview/"><b>PRONOTE</b></a>
					<a href="http://tympanus.net/Tutorials/ThumbnailGridExpandingPreview/"><b>SITE INTERNET</b></a>
					<a href="http://tympanus.net/Tutorials/ThumbnailGridExpandingPreview/"><b>A PROPOS</b></a>
				</div>
			</div>
			<div id="theGrid" class="main">
			
				<section id="grid" class="grid"><div style="text-align:center;padding:50px 0px 0px 0px;"><b>CHARGEMENT...</b></div></section>
				
				<section class="content">
				
					<div class="scroll-wrap" id="article"></div>
					
					<button class="close-button"><i class="fa fa-close"></i><span>Close</span></button>
				</section>
			</div>
		</div><!-- /container -->
		
<script type="text/javascript">		
function sleep(miliseconds) {
           var currentTime = new Date().getTime();

           while (currentTime + miliseconds >= new Date().getTime()) {
           }
       }
	   window.onload = sleep(2000);
	   </script>
		<script defer type="text/javascript">window.onload = xmlparser();</script>
		<script defer type="text/javascript" src="AnimatedGridLayout/js/classie.js"></script>
		<script defer type="text/javascript" src="AnimatedGridLayout/js/main.js"></script>
		
		<script type="text/javascript" src="cordova.js"></script>
	</body>
</html>